//public async Task<int> CreateOrGetChatAsync(List<int> participantUserIds, int creatorUserId)
//{
//	using (var context = new YourDbContext())
//	{
//		// Check if chat with given participants already exists
//		var existingChat = await context.Chats
//			.Where(chat => chat.Participants.All(participant => participantUserIds.Contains(participant.UserId)))
//			.FirstOrDefaultAsync();

//		if (existingChat != null)
//		{
//			// Chat with given participants already exists, return its ID
//			return existingChat.Id;
//		}

//		// Chat doesn't exist, create a new chat
//		var chat = new Chat
//		{
//			CreatedAt = DateTime.Now
//			// Other chat-related attributes
//		};

//		context.Chats.Add(chat);
//		await context.SaveChangesAsync();

//		// Retrieve ChatId
//		var chatId = chat.Id;

//		// Insert Participants
//		var participants = participantUserIds.Select(userId => new Participant
//		{
//			MessageId = chatId,
//			UserId = userId,
//			IsCreator = userId == creatorUserId
//		});

//		context.Participants.AddRange(participants);
//		await context.SaveChangesAsync();

//		return chatId;
//	}
//}
